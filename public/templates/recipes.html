<div class="recipes">
	<div class="container">
		<div class="row margin-bottom-15px">
			<h2 class="float-left">Recipes</h2>
			<a ui-sref="home.new-recipe" class="btn btn-submit float-right margin-top-18px" role="button">Add New Recipe</a>
		</div>
		<div class="row">
			<div class="col-sm-6 col-md-6 col-lg-3 itemDiv" ng-repeat="recipe in recipes.allRecipes">
				<table id="itemTable" class="table table-bordered itemTable">
					<tbody>
						<tr>
							<td class="itemCell yellowCell titleCell">
								<h5 class="itemName">
									<a href="{{recipe.recipe_url}}" target="_blank">{{recipe.name | limitTo:55}}<span ng-if="recipe.name.length > 50">...</span></a>
								</h5>
							</td>
						</tr>
						<tr>
							<td class="itemCell imageCell">
								<div class="imageDiv">
									<a href="{{recipe.recipe_url}}" target="_blank"><img class="imageSize" src="{{recipe.image_url}}"></a>
								</div>
							</td>
						</tr>
						<tr>
							<td class="itemCell grayCell buttonTableCell">
								<table class="grayCell buttonTable">
									<tr>
										<td class="buttonCell">
											<a ui-sref="update-recipe({id: recipe.id})" class="btn btn-success" role="button"><span class="glyphicon glyphicon-pencil"></span></a>
										</td>
										<td class="buttonCell">
											<button class="btn btn-primary btn-width" ng-click="recipes.moveRecipeUp( recipe )" ng-disabled="{{recipe.order}} == 1 ? true : false"><span class="glyphicon glyphicon-triangle-top"></span></button>
										</td>
										<td class="buttonCell">
											<button type="button" class="btn btn-md btn-submit btn-notes" data-toggle="modal" data-target="#itemModal-{{recipe.id}}"><strong>Instruct</strong></button>
										</td>
										<td class="buttonCell">
											<button class="btn btn-primary btn-width" ng-click="recipes.moveRecipeDown( recipe )" ng-disabled="{{recipe.order}} == {{recipes.allRecipes.length}} ? true : false"><span class="glyphicon glyphicon-triangle-bottom"></span></button>
										</td>
										<td class="buttonCell">
											<button class="btn btn-danger btn-width" ng-click="recipes.deleteRecipe( recipe )"><span class="glyphicon glyphicon-remove"></span></button>
										</td>
									</tr>
								</table>
							</td>
						</tr>
					</tbody>
				</table>
				<div class="modal fade" id="itemModal-{{recipe.id}}" role="dialog">
				    <div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">&times;</button>
								<h4 class="modal-title">Instructions</h4>
							</div>
							<div class="modal-body notes-paragraph">
								<p>{{recipe.instructions ? recipe.instructions : 'No instructions'}}</p>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
							</div>
						</div>
					</div>
				</div>
			</div>		
		</div>
	</div>
</div>
